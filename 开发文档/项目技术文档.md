# è‹±è¯­å­¦ä¹ åŠ©æ‰‹ Frontend é¡¹ç›®æŠ€æœ¯æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**é¡¹ç›®åç§°**: English Word Learning Frontend  
**æŠ€æœ¯æ ˆ**: Vue 3 + Element Plus + Pinia + Vue Router  
**åç«¯æœåŠ¡**: Python Flask API (172.16.0.132:5000)  
**ä¸»è¦åŠŸèƒ½**: è§†é¢‘å­—å¹•ç”Ÿæˆä¸ç¿»è¯‘ã€å•è¯æœ¬ç®¡ç†ã€æ•…äº‹ç”Ÿæˆã€è§†é¢‘å†å²ç®¡ç†

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

### æŠ€æœ¯é€‰å‹
- **å‰ç«¯æ¡†æ¶**: Vue 3.3.8 (Composition API)
- **UIç»„ä»¶åº“**: Element Plus 2.4.2
- **çŠ¶æ€ç®¡ç†**: Pinia 2.1.7
- **è·¯ç”±ç®¡ç†**: Vue Router 4.2.5
- **HTTPå®¢æˆ·ç«¯**: Axios 1.6.2
- **è§†é¢‘æ’­æ”¾**: Video.js 8.6.1
- **æ ·å¼é¢„å¤„ç†**: Sass 1.69.5
- **æ„å»ºå·¥å…·**: Vue CLI 5.0

### ç›®å½•ç»“æ„
```
Frontend/
â”œâ”€â”€ public/                 # å…¬å…±èµ„æº
â”‚   â””â”€â”€ index.html         # HTML æ¨¡æ¿
â”œâ”€â”€ src/                   # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ assets/            # é™æ€èµ„æº
â”‚   â”‚   â””â”€â”€ highlight.css  # é«˜äº®æ ·å¼
â”‚   â”œâ”€â”€ components/        # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ layout/        # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ AppHeader.vue    # åº”ç”¨å¤´éƒ¨
â”‚   â”‚   â”‚   â””â”€â”€ AppFooter.vue    # åº”ç”¨åº•éƒ¨
â”‚   â”‚   â””â”€â”€ video/         # è§†é¢‘ç›¸å…³ç»„ä»¶
â”‚   â”‚       â””â”€â”€ VideoPlayer.vue  # è§†é¢‘æ’­æ”¾å™¨ç»„ä»¶
â”‚   â”œâ”€â”€ config/            # é…ç½®æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ api.config.js  # APIé…ç½®
â”‚   â”œâ”€â”€ router/            # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ index.js       # è·¯ç”±å®šä¹‰
â”‚   â”œâ”€â”€ services/          # APIæœåŠ¡å±‚
â”‚   â”‚   â””â”€â”€ api.js         # ç»Ÿä¸€APIæ¥å£
â”‚   â”œâ”€â”€ stores/            # PiniaçŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ wordStore.js   # å•è¯æœ¬çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ videoStore.js  # è§†é¢‘çŠ¶æ€
â”‚   â”‚   â””â”€â”€ storyStore.js  # æ•…äº‹çŠ¶æ€
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ fileHash.js    # æ–‡ä»¶å“ˆå¸Œè®¡ç®—å·¥å…·
â”‚   â”œâ”€â”€ views/             # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Home.vue            # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ VideoSubtitles.vue  # è§†é¢‘å­—å¹•
â”‚   â”‚   â”œâ”€â”€ VideoHistory.vue    # è§†é¢‘å†å²
â”‚   â”‚   â”œâ”€â”€ WordBook.vue        # å•è¯æœ¬
â”‚   â”‚   â”œâ”€â”€ BasicVocabulary.vue # åŸºç¡€è¯æ±‡
â”‚   â”‚   â””â”€â”€ StoryGenerator.vue  # æ•…äº‹ç”Ÿæˆ
â”‚   â”œâ”€â”€ App.vue            # æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.js            # åº”ç”¨å…¥å£
â”œâ”€â”€ node_modules/          # ä¾èµ–åŒ…ç›®å½•
â”œâ”€â”€ å¼€å‘æ–‡æ¡£/              # é¡¹ç›®æ–‡æ¡£
â”‚   â””â”€â”€ é¡¹ç›®æŠ€æœ¯æ–‡æ¡£.md    # æŠ€æœ¯æ–‡æ¡£
â”œâ”€â”€ .vscode/              # VS Code é…ç½®
â”œâ”€â”€ .eslintrc.js          # ESLint é…ç½®
â”œâ”€â”€ .windsurfrules        # Windsurf é…ç½®
â”œâ”€â”€ babel.config.js       # Babel é…ç½®
â”œâ”€â”€ vue.config.js         # Vue CLI é…ç½®
â”œâ”€â”€ package.json          # é¡¹ç›®ä¾èµ–å’Œè„šæœ¬
â”œâ”€â”€ package-lock.json     # ä¾èµ–ç‰ˆæœ¬é”å®š
â””â”€â”€ README.md             # é¡¹ç›®è¯´æ˜
```

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### 1. è§†é¢‘å­—å¹•ç”Ÿæˆä¸ç¿»è¯‘ (`VideoSubtitles.vue`)

#### åŠŸèƒ½æè¿°
- æ”¯æŒè§†é¢‘æ–‡ä»¶ä¸Šä¼ ï¼ˆæ‹–æ‹½ä¸Šä¼  + æ–‡ä»¶é€‰æ‹©ï¼‰
- æ™ºèƒ½é‡å¤æ£€æµ‹ï¼ˆå“ˆå¸Œå€¼æ¯”å¯¹ï¼Œé¿å…é‡å¤å¤„ç†ï¼‰
- è‡ªåŠ¨å­—å¹•ç”Ÿæˆä¸ç¿»è¯‘
- åŒè¯­å­—å¹•åŒæ­¥æ˜¾ç¤º
- å•è¯ç‚¹å‡»æ·»åŠ åˆ°å•è¯æœ¬

#### æ ¸å¿ƒå®ç°
```javascript
// æ™ºèƒ½ä¸Šä¼ æµç¨‹
const uploadVideo = async () => {
  // 1. æ£€æŸ¥è§†é¢‘é‡å¤æ€§
  const checkResult = await apiService.checkVideoByHash(selectedFile.value)
  
  if (checkResult.exists) {
    // é‡å¤è§†é¢‘ç›´æ¥åŠ è½½ç°æœ‰å­—å¹•
    const subtitleData = await apiService.getVideoSubtitles(checkResult.video_id)
    setupVideo(subtitleData)
  } else {
    // æ–°è§†é¢‘ä¸Šä¼ å¤„ç†
    const response = await apiService.uploadVideo(formData)
    await checkVideoProcessingStatus(response.taskId)
    await fetchVideoSubtitles(response.videoId)
  }
}

// å­—å¹•åŒæ­¥æ˜¾ç¤º
const onTimeUpdate = () => {
  const currentSub = subtitles.value.find(sub => 
    currentTime.value >= sub.startTime && currentTime.value < sub.endTime
  );
  if (currentSub) {
    currentSubtitle.value = currentSub;
  }
};
```

#### å…³é”®ç‰¹æ€§
- **é‡å¤æ£€æµ‹**: åŸºäºæ–‡ä»¶å“ˆå¸Œå€¼ï¼Œé¿å…é‡å¤ä¸Šä¼ 
- **è¿›åº¦ç›‘æ§**: å®æ—¶æ˜¾ç¤ºè§†é¢‘å¤„ç†è¿›åº¦
- **å­—å¹•è§£æ**: å°†è‹±æ–‡å­—å¹•æ‹†åˆ†ä¸ºå¯ç‚¹å‡»çš„å•è¯
- **æ—¶é—´åŒæ­¥**: è§†é¢‘æ’­æ”¾æ—¶é—´ä¸å­—å¹•è‡ªåŠ¨åŒæ­¥

### 2. å•è¯æœ¬ç®¡ç† (`WordBook.vue`)

#### åŠŸèƒ½æè¿°
- å•è¯åˆ†ç±»ç®¡ç†ï¼ˆåˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤åˆ†ç±»ï¼‰
- å•è¯å¢åˆ æ”¹æŸ¥ï¼ˆæ”¯æŒæ‰¹é‡æ“ä½œï¼‰
- å•è¯æœç´¢ä¸è¿‡æ»¤
- åˆ†é¡µæ˜¾ç¤ºä¸æ’åº
- æ‰¹é‡ç§»åŠ¨å•è¯åˆ°ä¸åŒåˆ†ç±»
- ç”Ÿæˆæ•…äº‹åŠŸèƒ½é›†æˆ

#### æ ¸å¿ƒå®ç°
```javascript
// çŠ¶æ€ç®¡ç† (wordStore.js)
export const useWordStore = defineStore('word', {
  state: () => ({
    words: [],
    categories: [],
    isLoading: false,
    error: null
  }),
  
  actions: {
    async addWord(wordData) {
      const response = await apiService.addWord(wordData)
      this.words.push(response.data)
      return response.data
    },
    
    async moveWordsToCategory(wordIds, categoryId) {
      await apiService.moveWordsToCategory(wordIds, categoryId)
      // æ›´æ–°æœ¬åœ°çŠ¶æ€
      this.words = this.words.map(word => {
        if (wordIds.includes(word.id)) {
          return { ...word, categoryId }
        }
        return word
      })
    }
  }
})

// å•è¯é€‰æ‹©ä¸æ‰¹é‡æ“ä½œ
const handleSelectionChange = (selection) => {
  selectedWords.value = selection
}

const deleteSelectedWords = async () => {
  for (const word of selectedWords.value) {
    await apiService.deleteWord(word.id)
  }
  await fetchWords()
}
```

#### å…³é”®ç‰¹æ€§
- **åˆ†ç±»ç®¡ç†**: æ”¯æŒåˆ›å»ºè‡ªå®šä¹‰åˆ†ç±»
- **æ‰¹é‡æ“ä½œ**: æ”¯æŒæ‰¹é‡åˆ é™¤ã€ç§»åŠ¨å•è¯
- **æœç´¢è¿‡æ»¤**: æ”¯æŒæŒ‰å•è¯æˆ–ç¿»è¯‘æœç´¢
- **åˆ†é¡µæ˜¾ç¤º**: æå‡å¤§é‡æ•°æ®çš„å±•ç¤ºæ€§èƒ½

### 3. æ•…äº‹ç”Ÿæˆ (`StoryGenerator.vue`)

#### åŠŸèƒ½æè¿°
- ä»å•è¯æœ¬é€‰æ‹©å•è¯ç”Ÿæˆæ•…äº‹
- ç”Ÿæˆä¸­è‹±æ–‡å¯¹ç…§æ•…äº‹
- é€‰ä¸­å•è¯é«˜äº®æ˜¾ç¤º
- æ•…äº‹ä¿å­˜ä¸å†å²æŸ¥çœ‹
- æ”¯æŒå•è¯æœç´¢é€‰æ‹©

#### æ ¸å¿ƒå®ç°
```javascript
// æ•…äº‹ç”Ÿæˆ
const generateStory = () => {
  const loadingInstance = ElLoading.service({
    fullscreen: true,
    text: 'æ­£åœ¨ç”Ÿæˆæ•…äº‹ï¼Œè¯·ç¨å€™...'
  })
  
  apiService.generateStory(selectedWordIds.value)
    .then(response => {
      story.value = {
        englishText: response.englishText,
        highlightedEnglishText: highlightWords(response.englishText),
        chineseText: response.chineseText,
        words: response.words
      }
      ElMessage.success('æ•…äº‹ç”ŸæˆæˆåŠŸ')
    })
}

// å•è¯é«˜äº®
const highlightWords = (text) => {
  // æ”¯æŒ *word* å½¢å¼çš„é«˜äº®
  let highlighted = text.replace(/\*([A-Za-z0-9'-]+)\*/g, 
    '<span class="highlight-word">$1</span>')
  
  // é«˜äº®é€‰ä¸­çš„å•è¯
  const wordList = selectedWords.value.map(w => w.word).filter(Boolean)
  const escaped = wordList.map(w => w.replace(/[-\\^$*+?.()|[\]{}]/g, '\\$&'))
  const pattern = escaped.join('|')
  const reg = new RegExp(`\\b(?:${pattern})(?:[A-Za-z]*)\\b`, 'gi')
  
  return highlighted.replace(reg, match => 
    `<span class="highlight-word">${match}</span>`)
}
```

#### å…³é”®ç‰¹æ€§
- **æ™ºèƒ½ç”Ÿæˆ**: AIç”ŸæˆåŒ…å«é€‰ä¸­å•è¯çš„è¿è´¯æ•…äº‹
- **åŒè¯­å¯¹ç…§**: åŒæ—¶æ˜¾ç¤ºä¸­è‹±æ–‡ç‰ˆæœ¬
- **å•è¯é«˜äº®**: è‡ªåŠ¨é«˜äº®é€‰ä¸­çš„å­¦ä¹ å•è¯
- **æ•…äº‹ç®¡ç†**: æ”¯æŒä¿å­˜ã€æŸ¥çœ‹ã€åˆ é™¤æ•…äº‹

### 4. è§†é¢‘å†å²ç®¡ç† (`VideoHistory.vue`)

#### åŠŸèƒ½æè¿°
- æ˜¾ç¤ºå·²å¤„ç†è§†é¢‘åˆ—è¡¨
- è§†é¢‘è¯¦æƒ…æŸ¥çœ‹ï¼ˆå…ƒæ•°æ®ã€å¤„ç†çŠ¶æ€ï¼‰
- è§†é¢‘åˆ é™¤åŠŸèƒ½
- å¿«é€ŸåŠ è½½å†å²å­—å¹•
- åˆ†é¡µæµè§ˆæ”¯æŒ

#### æ ¸å¿ƒå®ç°
```javascript
// è·å–è§†é¢‘åˆ—è¡¨
const loadVideoList = async (page = 1) => {
  const data = await apiService.getVideoList(page, 20)
  if (data.success) {
    videos.value = data.videos
    pagination.value = {
      total: data.total,
      page: data.page,
      pages: data.pages
    }
  }
}

// åˆ é™¤è§†é¢‘
const deleteVideo = async (videoId) => {
  if (!confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªè§†é¢‘å—ï¼Ÿæ­¤æ“ä½œä¸å¯é€†ï¼')) return
  
  const result = await apiService.deleteVideoById(videoId)
  if (result.success) {
    ElMessage.success('è§†é¢‘åˆ é™¤æˆåŠŸï¼')
    loadVideoList() // åˆ·æ–°åˆ—è¡¨
  }
}
```

## ğŸ”Œ APIæ¥å£å®šä¹‰

### åŸºç¡€é…ç½®
```javascript
// api.config.js
export const BASE_URL = process.env.NODE_ENV === 'development' 
  ? '' : process.env.VUE_APP_API_URL

export const API_ENDPOINTS = {
  ROOT: '/',
  VIDEO: {
    UPLOAD: '/api/videos/upload',
    STATUS: (taskId) => `/api/videos/status/${taskId}`,
    SUBTITLES: (videoId) => `/api/videos/${videoId}/subtitles`,
    STREAM: (videoId) => `/api/videos/${videoId}/stream`,
    EXAMPLE: '/api/videos/example'
  },
  WORDBOOK: {
    WORDS: '/api/words',
    WORD_DETAIL: (wordId) => `/api/words/${wordId}`,
    CATEGORIES: '/api/categories',
    CATEGORY_DETAIL: (categoryId) => `/api/categories/${categoryId}`,
    MOVE_TO_CATEGORY: '/api/words/batch/move'
  },
  STORY: {
    GENERATE: '/api/stories/generate',
    LIST: '/api/stories/',
    DETAIL: (storyId) => `/api/stories/${storyId}`
  }
}
```

### ä¸»è¦æ¥å£åˆ—è¡¨

#### 1. è§†é¢‘ç›¸å…³æ¥å£

| æ¥å£ | æ–¹æ³• | æè¿° | å‚æ•° |
|------|------|------|------|
| `/api/videos/upload` | POST | ä¸Šä¼ è§†é¢‘æ–‡ä»¶ | `file`: è§†é¢‘æ–‡ä»¶ |
| `/api/videos/status/{taskId}` | GET | è·å–å¤„ç†çŠ¶æ€ | `taskId`: ä»»åŠ¡ID |
| `/api/videos/{videoId}/subtitles` | GET | è·å–è§†é¢‘å­—å¹• | `videoId`: è§†é¢‘ID |
| `/api/videos/check-hash` | POST | æ£€æŸ¥è§†é¢‘é‡å¤ | `file`: è§†é¢‘æ–‡ä»¶ |
| `/api/videos` | GET | è·å–è§†é¢‘åˆ—è¡¨ | `page`, `per_page` |
| `/api/videos/{videoId}` | GET | è·å–è§†é¢‘è¯¦æƒ… | `videoId`: è§†é¢‘ID |
| `/api/videos/{videoId}` | DELETE | åˆ é™¤è§†é¢‘ | `videoId`: è§†é¢‘ID |

#### 2. å•è¯æœ¬ç›¸å…³æ¥å£

| æ¥å£ | æ–¹æ³• | æè¿° | å‚æ•° |
|------|------|------|------|
| `/api/words` | GET | è·å–å•è¯åˆ—è¡¨ | - |
| `/api/words` | POST | æ·»åŠ æ–°å•è¯ | `word`, `translation`, `category` |
| `/api/words/{wordId}` | PUT | æ›´æ–°å•è¯ | `wordId`, å•è¯æ•°æ® |
| `/api/words/{wordId}` | DELETE | åˆ é™¤å•è¯ | `wordId` |
| `/api/categories` | GET | è·å–åˆ†ç±»åˆ—è¡¨ | - |
| `/api/categories` | POST | åˆ›å»ºåˆ†ç±» | `name`, `description` |
| `/api/words/batch/move` | POST | æ‰¹é‡ç§»åŠ¨å•è¯ | `wordIds`, `categoryId` |

#### 3. æ•…äº‹ç”Ÿæˆç›¸å…³æ¥å£

| æ¥å£ | æ–¹æ³• | æè¿° | å‚æ•° |
|------|------|------|------|
| `/api/stories/generate` | POST | ç”Ÿæˆæ•…äº‹ | `wordIds`: å•è¯IDæ•°ç»„ |
| `/api/stories/` | GET | è·å–æ•…äº‹åˆ—è¡¨ | - |
| `/api/stories/{storyId}` | GET | è·å–æ•…äº‹è¯¦æƒ… | `storyId` |
| `/api/stories/{storyId}` | POST | ä¿å­˜æ•…äº‹ | æ•…äº‹æ•°æ® |
| `/api/stories/{storyId}` | DELETE | åˆ é™¤æ•…äº‹ | `storyId` |

### HTTPå®¢æˆ·ç«¯é…ç½®
```javascript
// api.js
const apiClient = axios.create({
  baseURL: BASE_URL,
  timeout: 120000, // 2åˆ†é’Ÿè¶…æ—¶ï¼Œé€‚åº”è§†é¢‘ä¸Šä¼ 
  headers: {
    'Content-Type': 'application/json',
    'Accept': 'application/json'
  }
})

// è¯·æ±‚æ‹¦æˆªå™¨
apiClient.interceptors.request.use(config => {
  const token = localStorage.getItem('token')
  if (token) {
    config.headers['Authorization'] = `Bearer ${token}`
  }
  return config
})

// å“åº”æ‹¦æˆªå™¨
apiClient.interceptors.response.use(
  response => response.data,
  error => {
    console.error('APIé”™è¯¯:', error)
    return Promise.reject(error)
  }
)
```

## ğŸ› ï¸ å¼€å‘é…ç½®

### å¼€å‘ç¯å¢ƒä»£ç†
```javascript
// vue.config.js
module.exports = defineConfig({
  devServer: {
    proxy: {
      '/api': {
        target: 'http://172.16.0.132:5000',
        changeOrigin: true,
        ws: true,
        proxyTimeout: 1800000, // 30åˆ†é’Ÿä»£ç†è¶…æ—¶
        secure: false
      }
    }
  }
})
```

### ç¯å¢ƒå˜é‡
```bash
# å¼€å‘ç¯å¢ƒ
NODE_ENV=development
VUE_APP_API_URL=http://172.16.0.132:5000

# ç”Ÿäº§ç¯å¢ƒ
NODE_ENV=production
VUE_APP_API_URL=https://your-api-domain.com
```

## ğŸ“± çŠ¶æ€ç®¡ç†

### Pinia Store è®¾è®¡

#### WordStore - å•è¯æœ¬çŠ¶æ€ç®¡ç†
```javascript
export const useWordStore = defineStore('word', {
  state: () => ({
    words: [],           // å•è¯åˆ—è¡¨
    categories: [],      // åˆ†ç±»åˆ—è¡¨
    isLoading: false,    // åŠ è½½çŠ¶æ€
    error: null          // é”™è¯¯ä¿¡æ¯
  }),
  
  getters: {
    getWordById: (state) => (id) => state.words.find(word => word.id === id),
    getWordsByCategory: (state) => (categoryId) => {
      return categoryId === 'all' 
        ? state.words 
        : state.words.filter(word => word.categoryId === categoryId)
    },
    totalWordCount: (state) => state.words.length
  },
  
  actions: {
    async fetchWords() { /* è·å–å•è¯åˆ—è¡¨ */ },
    async addWord(wordData) { /* æ·»åŠ å•è¯ */ },
    async updateWord(wordId, wordData) { /* æ›´æ–°å•è¯ */ },
    async deleteWord(wordId) { /* åˆ é™¤å•è¯ */ },
    async moveWordsToCategory(wordIds, categoryId) { /* æ‰¹é‡ç§»åŠ¨ */ }
  }
})
```

#### VideoStore - è§†é¢‘çŠ¶æ€ç®¡ç†
```javascript
export const useVideoStore = defineStore('video', {
  state: () => ({
    currentVideo: null,   // å½“å‰è§†é¢‘
    subtitles: [],       // å­—å¹•åˆ—è¡¨
    processingStatus: null, // å¤„ç†çŠ¶æ€
    videos: []           // è§†é¢‘å†å²åˆ—è¡¨
  })
})
```

#### StoryStore - æ•…äº‹çŠ¶æ€ç®¡ç†
```javascript
export const useStoryStore = defineStore('story', {
  state: () => ({
    stories: [],         // æ•…äº‹åˆ—è¡¨
    currentStory: null,  // å½“å‰æ•…äº‹
    selectedWords: []    // é€‰ä¸­çš„å•è¯
  })
})
```

## ğŸ¨ UI/UX è®¾è®¡

### ä¸»é¢˜é…ç½®
- **ä¸»è‰²è°ƒ**: Element Plus é»˜è®¤è“è‰²ä¸»é¢˜ (#409EFF)
- **å¸ƒå±€**: å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯é€‚é…
- **ç»„ä»¶**: åŸºäº Element Plus ç»„ä»¶åº“
- **å›¾æ ‡**: Element Plus Icons

### é¡µé¢å¸ƒå±€
```vue
<!-- App.vue æ ¹å¸ƒå±€ -->
<template>
  <div id="app">
    <AppHeader />
    <main class="main-content">
      <router-view />
    </main>
  </div>
</template>
```

### å“åº”å¼è®¾è®¡
```scss
// æ–­ç‚¹è®¾è®¡
$mobile: 768px;
$tablet: 1024px;
$desktop: 1200px;

.container {
  @media (max-width: $mobile) {
    padding: 10px;
  }
  
  @media (min-width: $tablet) {
    padding: 20px;
  }
}
```

## ğŸ”§ æ„å»ºä¸éƒ¨ç½²

### å¼€å‘ç¯å¢ƒ
```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run serve

# ä»£ç æ£€æŸ¥
npm run lint
```

### ç”Ÿäº§æ„å»º
```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# æ„å»ºäº§ç‰©ä½äº dist/ ç›®å½•
```

### éƒ¨ç½²é…ç½®
```nginx
# Nginx é…ç½®ç¤ºä¾‹
server {
    listen 80;
    server_name your-domain.com;
    
    location / {
        root /var/www/english-learning-frontend/dist;
        try_files $uri $uri/ /index.html;
    }
    
    location /api {
        proxy_pass http://172.16.0.132:5000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

## ğŸš€ æ–°åŠŸèƒ½å¼€å‘æŒ‡å—

### 1. æ·»åŠ æ–°é¡µé¢
```bash
# 1. åˆ›å»º Vue ç»„ä»¶
touch src/views/NewFeature.vue

# 2. æ·»åŠ è·¯ç”±é…ç½®
# åœ¨ src/router/index.js ä¸­æ·»åŠ è·¯ç”±

# 3. æ›´æ–°å¯¼èˆªèœå•
# åœ¨ src/components/layout/AppHeader.vue ä¸­æ·»åŠ èœå•é¡¹
```

### 2. æ·»åŠ æ–°çš„ API æ¥å£
```javascript
// 1. åœ¨ api.config.js ä¸­å®šä¹‰ç«¯ç‚¹
ENDPOINTS.NEW_FEATURE = '/api/new-feature'

// 2. åœ¨ api.js ä¸­å®ç°æ¥å£æ–¹æ³•
newFeatureMethod() {
  return apiClient.get(API_ENDPOINTS.NEW_FEATURE)
}

// 3. åœ¨ç»„ä»¶ä¸­è°ƒç”¨
import apiService from '@/services/api'
const result = await apiService.newFeatureMethod()
```

### 3. æ·»åŠ æ–°çš„çŠ¶æ€ç®¡ç†
```javascript
// 1. åˆ›å»ºæ–°çš„ store
// src/stores/newFeatureStore.js
export const useNewFeatureStore = defineStore('newFeature', {
  state: () => ({}),
  actions: {}
})

// 2. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨
import { useNewFeatureStore } from '@/stores/newFeatureStore'
const store = useNewFeatureStore()
```

### 4. æ·»åŠ æ–°ç»„ä»¶
```vue
<!-- src/components/NewComponent.vue -->
<template>
  <div class="new-component">
    <!-- ç»„ä»¶æ¨¡æ¿ -->
  </div>
</template>

<script>
export default {
  name: 'NewComponent',
  props: {
    // å®šä¹‰ props
  },
  setup(props) {
    // Composition API é€»è¾‘
    return {}
  }
}
</script>
```

## ğŸ“ ä»£ç è§„èŒƒ

### Vue 3 Composition API è§„èŒƒ
```javascript
// æ¨èçš„ç»„ä»¶ç»“æ„
export default {
  name: 'ComponentName',
  components: { /* å­ç»„ä»¶ */ },
  props: { /* å±æ€§å®šä¹‰ */ },
  emits: ['event-name'],
  setup(props, { emit }) {
    // 1. å“åº”å¼æ•°æ®
    const state = ref('')
    
    // 2. è®¡ç®—å±æ€§
    const computed = computed(() => {})
    
    // 3. æ–¹æ³•
    const method = () => {}
    
    // 4. ç”Ÿå‘½å‘¨æœŸ
    onMounted(() => {})
    
    // 5. è¿”å›æ¨¡æ¿éœ€è¦çš„å†…å®¹
    return {
      state,
      computed,
      method
    }
  }
}
```

### API è°ƒç”¨è§„èŒƒ
```javascript
// é”™è¯¯å¤„ç†
try {
  const result = await apiService.someMethod()
  // æˆåŠŸå¤„ç†
} catch (error) {
  console.error('æ“ä½œå¤±è´¥:', error)
  ElMessage.error(`æ“ä½œå¤±è´¥: ${error.message}`)
}

// åŠ è½½çŠ¶æ€
const loading = ElLoading.service({
  fullscreen: true,
  text: 'æ­£åœ¨å¤„ç†...'
})

try {
  await apiService.someMethod()
} finally {
  loading.close()
}
```

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. æ€§èƒ½ä¼˜åŒ–
- ä½¿ç”¨ `v-show` æ›¿ä»£é¢‘ç¹åˆ‡æ¢çš„ `v-if`
- å¤§åˆ—è¡¨ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨æˆ–åˆ†é¡µ
- å›¾ç‰‡æ‡’åŠ è½½
- ç»„ä»¶æŒ‰éœ€åŠ è½½

### 2. é”™è¯¯å¤„ç†
- æ‰€æœ‰ API è°ƒç”¨å¿…é¡»åŒ…å«é”™è¯¯å¤„ç†
- ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º
- ç½‘ç»œå¼‚å¸¸çš„é‡è¯•æœºåˆ¶

### 3. å®‰å…¨è€ƒè™‘
- XSS é˜²æŠ¤ï¼šé¿å… `v-html` ç›´æ¥æ¸²æŸ“ç”¨æˆ·è¾“å…¥
- CSRF é˜²æŠ¤ï¼šAPI è¯·æ±‚åŒ…å«é€‚å½“çš„å¤´éƒ¨
- æ•æ„Ÿä¿¡æ¯ä¸åœ¨å‰ç«¯å­˜å‚¨

### 4. å…¼å®¹æ€§
- æ”¯æŒç°ä»£æµè§ˆå™¨ (Chrome 80+, Firefox 75+, Safari 13+)
- ç§»åŠ¨ç«¯é€‚é…
- ä¸æ”¯æŒ IE æµè§ˆå™¨

## ğŸ”— ç›¸å…³èµ„æº

- [Vue 3 å®˜æ–¹æ–‡æ¡£](https://vuejs.org/)
- [Element Plus ç»„ä»¶åº“](https://element-plus.org/)
- [Pinia çŠ¶æ€ç®¡ç†](https://pinia.vuejs.org/)
- [Vue Router è·¯ç”±ç®¡ç†](https://router.vuejs.org/)
- [Axios HTTP å®¢æˆ·ç«¯](https://axios-http.com/)

---

## ğŸ“ˆ ç‰ˆæœ¬å†å²

- **v0.1.0**: åˆå§‹ç‰ˆæœ¬ï¼ŒåŒ…å«åŸºç¡€åŠŸèƒ½æ¨¡å—
- **åç»­ç‰ˆæœ¬**: æ ¹æ®éœ€æ±‚æŒç»­è¿­ä»£æ›´æ–°

---

*æœ¬æ–‡æ¡£å°†éšç€é¡¹ç›®å‘å±•æŒç»­æ›´æ–°ï¼Œå»ºè®®å®šæœŸæŸ¥çœ‹æœ€æ–°ç‰ˆæœ¬ã€‚* 